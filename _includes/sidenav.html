<aside class="usa-layout-docs-sidenav desktop:grid-col-3">
  <nav>
    <ul class="usa-sidenav">
      {% assign _url = page.url | split: '/' %} {% assign _parent_dir = _url[1]
      %} {% assign _parent_url = _parent_dir | relative_url | append: '/' %}
      {% assign _current_url = page.url | relative_url %}
      <li class="usa-sidenav-item">
        <a href="{{ _parent_url }}" {% if _parent_url==_current_url %}class="usa-current" {% endif %}>Overview</a> {% if _parent_url == _current_url
        and page.anchors%}
        <ul class="usa-sidenav-sublist">
          {% for _anchor in page.anchors %}
          <li class="usa-sidenav-item">
            <a href="#{{_anchor.name | slugify}}">{{_anchor.name}}</a>
          </li>
          {% endfor %}
        </ul>
        {% endif %}
      </li>
      {% for _page in site.pages %} {% if _page.url contains _parent_dir %} {%
      unless _page.path contains "index.md" %}
      <li class="usa-sidenav-item">
        <a href="{{ _page.url | relative_url }}" {% if _page.url==page.url %}class="usa-current" {% endif %}>{{ _page.title }}</a> {% if _page.url == page.url
        and page.anchors%}
        <ul class="usa-sidenav-sublist">
          {% for _anchor in page.anchors %}
          <li class="usa-sidenav-item">
            <a href="#{{_anchor.name | slugify}}">{{_anchor.name}}</a>
          </li>
          {% endfor %}
        </ul>
        {% endif %}
      </li>
      {% endunless %} {% endif %} {% endfor %}
    </ul>
  </nav>
</aside>